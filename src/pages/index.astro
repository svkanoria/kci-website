---
import { Resize } from "@cloudinary/url-gen/actions";
import CldImage from "../components/CldImage.astro";
import Layout from "../layouts/Layout.astro";
import Section from "../components/Section.astro";
import News from "../components/homePage/News.astro";
import H2 from "../components/typography/H2.astro";
import BoundedContainer from "../components/BoundedContainer.astro";
import SplitImageSection from "../components/SplitImageSection.astro";
import { getPageLink } from "../utils";

const sustainabilityPageLink = await getPageLink(
  import.meta.glob("./about/sustainability.astro")
);

const corporateGroupPageLink = await getPageLink(
  import.meta.glob("./about/corporate-group.astro")
);
---

<Layout isUnbounded title="Welcome to KCI">
  <CldImage
    src="home-banner_xgcvqp"
    width="2000px"
    height="800px"
    alt="KCI banner"
    transform={(image) => image.resize(Resize.fill().width(2000).height(800))}
  />
  <Section isBox>
    <BoundedContainer>
      <div class="flex flex-col md:flex-row items-center py-12">
        <div class="mb-8 md:mb-0 md:mr-12">
          <p class="text-xl md:text-3xl lg:text-4xl text-stone-500">
            Kanoria Chemicals and Industries Ltd.<br />is a leading manufacturer
            of bulk and specialty chemicals for the infrastructure and
            construction sectors.
          </p>
          <div class="h-6"></div>
          <p class="prose max-w-none text-stone-400">
            Kanoria Chemicals and Industries Ltd. is a proud holder of the <a
              href="https://icca-chem.org/focus/responsible-care/"
              target="_blank">Responsible Care</a
            > logo.
          </p>
        </div>
        <div
          class="shrink-0 w-40 h-40 md:w-52 md:h-52 p-6 md:p-8 rounded-full border border-green-600"
        >
          <!-- Translations are by trial and error to centre the image -->
          <CldImage
            src="responsible-care-logo_mlujln"
            width="100%"
            height="100%"
            alt="Responsible Care logo"
            class="translate-x-1 -translate-y-3"
          />
        </div>
      </div>
    </BoundedContainer>
  </Section>
  <Section isBox class="bg-stone-50">
    <BoundedContainer>
      <H2>Latest News</H2>
      <div class="pb-12">
        <News />
      </div>
    </BoundedContainer>
  </Section>
  <SplitImageSection
    image={{
      src: "water-reservoir_kdxpoq",
      alt: sustainabilityPageLink.title,
    }}
  >
    <div class="flex flex-col">
      <H2>{sustainabilityPageLink.title}</H2>
      <div class="prose">
        <p>
          {sustainabilityPageLink.desc}
        </p>
      </div>
      <div class="pt-8">
        <a href={sustainabilityPageLink.href} class="btn btn-primary">
          Awards and Recognition
        </a>
      </div>
    </div>
  </SplitImageSection>
  <SplitImageSection
    image={{
      src: corporateGroupPageLink.banner,
      alt: corporateGroupPageLink.title,
    }}
  >
    <div class="flex flex-col">
      <H2>{corporateGroupPageLink.title}</H2>
      <div class="prose">
        <p>
          {corporateGroupPageLink.desc}
        </p>
      </div>
      <div class="pt-8">
        <a href={corporateGroupPageLink.href} class="btn btn-primary">
          About the Group
        </a>
      </div>
    </div>
  </SplitImageSection>
</Layout>
