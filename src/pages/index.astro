---
import { Resize } from "@cloudinary/url-gen/actions";
import CldImage from "../components/CldImage.astro";
import Layout from "../layouts/Layout.astro";
import Section from "../components/Section.astro";
import News from "../components/homePage/News.astro";
import H2 from "../components/typography/H2.astro";
import BoundedContainer from "../components/BoundedContainer.astro";
import SplitImageSection from "../components/SplitImageSection.astro";
import { getPageLink } from "../utils";
import ProductList from "../components/homePage/ProductList.astro";
import bondIcon from "../assets/bond-icon.svg";

export const __kci_navTitle = "Home";

const sustainabilityPageLink = await getPageLink(
  import.meta.glob("./about/sustainability.astro")
);

const socialRespPageLink = await getPageLink(
  import.meta.glob("./about/social-responsibility.astro")
);

const corporateGroupPageLink = await getPageLink(
  import.meta.glob("./about/corporate-group.astro")
);
---

<Layout isUnbounded title="Welcome to KCI">
  <div class="relative">
    <CldImage
      src="home-banner_xgcvqp"
      width="2000px"
      height="800px"
      alt="KCI banner"
      transform={(image) => image.resize(Resize.fill().width(2000).height(800))}
      class="min-h-[300px] object-cover"
    />
    <div
      class="flex flex-col justify-end items-start home-banner-overlay absolute top-0 right-0 md:right-[40%] bottom-0 left-0 bg-black bg-opacity-25"
    >
      <img
        src={bondIcon}
        alt="Chemistry of values and value additions"
        class="inline-block h-1/2 lg:h-2/3 ml-8 -mb-16 opacity-20"
      />
      <div
        class="m-12 mt-4 lg:m-16 lg:mt-4 text-3xl md:text-4xl lg:text-5xl md:leading-tight lg:leading-tight text-white opacity-90 shadow-lg"
      >
        Chemistry of Values
        <br />
        <span class="text-stone-200 opacity-100">and</span> Value Additions
      </div>
    </div>
  </div>
  <Section isBox>
    <BoundedContainer>
      <div class="flex flex-col md:flex-row items-center md:py-8">
        <div class="mb-8 md:mb-0 md:mr-12">
          <p class="mb-8 text-xl md:text-2xl text-stone-500">
            Founded in 1960, Kanoria Chemicals & Industries Ltd. (KCI) is a
            leading manufacturer of chemical intermediates and specialties in
            India, with a focus on products for infrastructure and construction.
          </p>
          <p class="mb-8 text-lg">
            Apart from chemicals, we have diversified business interests in
            automotive and industrial electronics and textiles, in India and
            around the world. KCI is one of the few companies in India to hold
            the <a
              href="https://icca-chem.org/focus/responsible-care/"
              target="_blank"
              class="font-bold">Responsible Care</a
            > logo.
          </p>
          <a href="/about" class="btn btn-primary min-w-[150px]">About Us</a>
        </div>
        <div
          class="shrink-0 w-40 h-40 md:w-52 md:h-52 p-6 md:p-8 rounded-full border-[4px] border-green-500"
        >
          <!-- Translations are by trial and error to centre the image -->
          <CldImage
            src="responsible-care-logo_mlujln"
            width="100%"
            height="100%"
            alt="Responsible Care logo"
            class="translate-x-1 -translate-y-3"
          />
        </div>
      </div>
    </BoundedContainer>
  </Section>
  <Section isBox class="bg-stone-100">
    <BoundedContainer>
      <H2>Latest News</H2>
      <News />
      <div class="h-6"></div>
    </BoundedContainer>
  </Section>
  <Section isBox>
    <BoundedContainer>
      <H2>Our Products</H2>
      <ProductList />
      <a href="/products" class="btn btn-primary">All Products</a>
    </BoundedContainer>
  </Section>
  <Section isBox class="bg-stone-100">
    <BoundedContainer>
      <SplitImageSection
        image={{
          src: "water-reservoir_kdxpoq",
          alt: sustainabilityPageLink.title,
          transform: (image) =>
            image.resize(Resize.fill().width(800).height(500)),
        }}
      >
        <div class="flex flex-col">
          <H2>{sustainabilityPageLink.title}</H2>
          <div class="prose">
            <p>
              {sustainabilityPageLink.desc}
            </p>
          </div>
          <div class="pt-8">
            <a href={sustainabilityPageLink.href} class="btn btn-outline">
              Read More
            </a>
          </div>
        </div>
      </SplitImageSection>
      <SplitImageSection
        image={{
          src: socialRespPageLink.banner,
          alt: socialRespPageLink.title,
          transform: (image) =>
            image.resize(Resize.fill().width(800).height(500)),
        }}
      >
        <div class="flex flex-col">
          <H2>{socialRespPageLink.title}</H2>
          <div class="prose">
            <p>
              {socialRespPageLink.desc}
            </p>
          </div>
          <div class="pt-8">
            <a href={socialRespPageLink.href} class="btn btn-outline">
              Read More
            </a>
          </div>
        </div>
      </SplitImageSection>
      <SplitImageSection
        image={{
          src: corporateGroupPageLink.banner,
          alt: corporateGroupPageLink.title,
          transform: (image) =>
            image.resize(Resize.fill().width(800).height(500)),
        }}
      >
        <div class="flex flex-col">
          <H2>{corporateGroupPageLink.title}</H2>
          <div class="prose">
            <p>
              {corporateGroupPageLink.desc}
            </p>
          </div>
          <div class="pt-8">
            <a href={corporateGroupPageLink.href} class="btn btn-outline">
              Read More
            </a>
          </div>
        </div>
      </SplitImageSection>
    </BoundedContainer>
  </Section>

  <style>
    .home-banner-overlay {
      @screen md {
        clip-path: polygon(0 0, 68% 0, 100% 100%, 0% 100%);
      }
    }
  </style>
</Layout>
