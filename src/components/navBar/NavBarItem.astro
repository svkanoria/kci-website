---
import { PageLink } from "../../utils";

interface Props {
  pageLink: PageLink;
  className?: string;
  noHref?: boolean;
  activeIfExact?: boolean;
}

const { pageLink, className, noHref, activeIfExact } = Astro.props;

const currentPath = new URL(Astro.request.url).pathname;
---

<a
  {...noHref ? {} : { href: pageLink.href }}
  class:list={[
    className,
    (
      activeIfExact
        ? currentPath === pageLink.href
        : currentPath.match(pageLink.href)
    )
      ? "active"
      : "",
  ]}>{pageLink.title}</a
>
